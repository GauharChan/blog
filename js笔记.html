<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>js笔记 | gauhar&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.7">
    <script async="true" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1206812165499181"></script>
    <link rel="icon" href="/blog/favicon.ico">
    <meta name="description" content="just a blog">
    
    <link rel="preload" href="/blog/assets/css/0.styles.db100c87.css" as="style"><link rel="preload" href="/blog/assets/js/app.325d5dae.js" as="script"><link rel="preload" href="/blog/assets/js/3.e2beba07.js" as="script"><link rel="preload" href="/blog/assets/js/15.323dddf9.js" as="script"><link rel="preload" href="/blog/assets/js/7.3fa0df8d.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.782adf34.js"><link rel="prefetch" href="/blog/assets/js/11.47109b7d.js"><link rel="prefetch" href="/blog/assets/js/12.0b4b1132.js"><link rel="prefetch" href="/blog/assets/js/13.7de0232f.js"><link rel="prefetch" href="/blog/assets/js/14.756f0c23.js"><link rel="prefetch" href="/blog/assets/js/16.ed217752.js"><link rel="prefetch" href="/blog/assets/js/17.ea529441.js"><link rel="prefetch" href="/blog/assets/js/18.95525cfa.js"><link rel="prefetch" href="/blog/assets/js/19.b2bf75d4.js"><link rel="prefetch" href="/blog/assets/js/20.d73694bc.js"><link rel="prefetch" href="/blog/assets/js/21.e36a9922.js"><link rel="prefetch" href="/blog/assets/js/22.74718c61.js"><link rel="prefetch" href="/blog/assets/js/23.f5135c0e.js"><link rel="prefetch" href="/blog/assets/js/24.a2f997e4.js"><link rel="prefetch" href="/blog/assets/js/25.6fed8f96.js"><link rel="prefetch" href="/blog/assets/js/26.53b54d8d.js"><link rel="prefetch" href="/blog/assets/js/27.7d4d64a4.js"><link rel="prefetch" href="/blog/assets/js/28.7eba9b46.js"><link rel="prefetch" href="/blog/assets/js/29.5eeb1d6b.js"><link rel="prefetch" href="/blog/assets/js/30.a61cdd0f.js"><link rel="prefetch" href="/blog/assets/js/31.2546778d.js"><link rel="prefetch" href="/blog/assets/js/32.f642a872.js"><link rel="prefetch" href="/blog/assets/js/33.0ad1a41c.js"><link rel="prefetch" href="/blog/assets/js/34.d44a770c.js"><link rel="prefetch" href="/blog/assets/js/4.d1023e2c.js"><link rel="prefetch" href="/blog/assets/js/5.dd7ab500.js"><link rel="prefetch" href="/blog/assets/js/6.a12ed50c.js"><link rel="prefetch" href="/blog/assets/js/8.1c71d7cb.js"><link rel="prefetch" href="/blog/assets/js/9.c6871849.js"><link rel="prefetch" href="/blog/assets/js/vendors~docsearch.3644c41e.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.db100c87.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">gauhar's blog</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他版本博客" class="dropdown-title"><span class="title">其他版本博客</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他版本博客" class="mobile-dropdown-title"><span class="title">其他版本博客</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://gauharchan.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vitepress版
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gauhar.gitee.io/vuepress_node/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  某node资源
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gauhar.gitee.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  hexo版(不维护)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://gitee.com/gauhar" target="_blank" rel="noopener noreferrer" class="nav-link external">
  码云
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/GauharChan/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他版本博客" class="dropdown-title"><span class="title">其他版本博客</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他版本博客" class="mobile-dropdown-title"><span class="title">其他版本博客</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://gauharchan.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vitepress版
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gauhar.gitee.io/vuepress_node/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  某node资源
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gauhar.gitee.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  hexo版(不维护)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://gitee.com/gauhar" target="_blank" rel="noopener noreferrer" class="nav-link external">
  码云
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/GauharChan/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/blog/vite-plugin-shared.html" class="sidebar-link">vite插件-shared</a></li><li><a href="/blog/react笔记.html" class="sidebar-link">react</a></li><li><a href="/blog/vue3.html" class="sidebar-link">vue3</a></li><li><a href="/blog/vue3源码.html" class="sidebar-link">vue3源码</a></li><li><a href="/blog/antv.html" class="sidebar-link">antv</a></li><li><a href="/blog/typeScript.html" class="sidebar-link">typeScript</a></li><li><a href="/blog/taro.html" class="sidebar-link">taro1.x</a></li><li><a href="/blog/uniapp.html" class="sidebar-link">uniapp</a></li><li><a href="/blog/es6笔记.html" class="sidebar-link">es6笔记</a></li><li><a href="/blog/问题.html" class="sidebar-link">问题</a></li><li><a href="/blog/js学习笔记.html" class="sidebar-link">js学习笔记</a></li><li><a href="/blog/webpack.html" class="sidebar-link">webpack</a></li><li><a href="/blog/vue笔记.html" class="sidebar-link">vue笔记</a></li><li><a href="/blog/常用代码.html" class="sidebar-link">常用代码</a></li><li><a href="/blog/工作常用代码.html" class="sidebar-link">工作常用代码</a></li><li><a href="/blog/工作上遇到的坑.html" class="sidebar-link">工作上遇到的坑</a></li><li><a href="/blog/那些坑.html" class="sidebar-link">那些坑</a></li><li><a href="/blog/正则表达式.html" class="sidebar-link">正则表达式</a></li><li><a href="/blog/flutter.html" class="sidebar-link">flutter</a></li><li><a href="/blog/js笔记.html" class="active sidebar-link">js笔记</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/js笔记.html#javascript" class="sidebar-link">JavaScript</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/js笔记.html#事件循环" class="sidebar-link">事件循环</a></li><li class="sidebar-sub-header"><a href="/blog/js笔记.html#isnan" class="sidebar-link">isNaN()</a></li><li class="sidebar-sub-header"><a href="/blog/js笔记.html#urlsearchparams" class="sidebar-link">URLSearchParams</a></li><li class="sidebar-sub-header"><a href="/blog/js笔记.html#clientwidth-、offsetwidth、scrollwidth" class="sidebar-link">clientWidth 、offsetWidth、scrollWidth</a></li><li class="sidebar-sub-header"><a href="/blog/js笔记.html#js-窗口属性" class="sidebar-link">js 窗口属性</a></li><li class="sidebar-sub-header"><a href="/blog/js笔记.html#offsetleft、offsetparent、offsettop" class="sidebar-link">offsetLeft、offsetParent、offsetTop</a></li><li class="sidebar-sub-header"><a href="/blog/js笔记.html#clientx" class="sidebar-link">clientX</a></li><li class="sidebar-sub-header"><a href="/blog/js笔记.html#csstext" class="sidebar-link">cssText</a></li><li class="sidebar-sub-header"><a href="/blog/js笔记.html#arguments-对象" class="sidebar-link">arguments 对象</a></li><li class="sidebar-sub-header"><a href="/blog/js笔记.html#tofixed-2" class="sidebar-link">toFixed(2)</a></li><li class="sidebar-sub-header"><a href="/blog/js笔记.html#空字符串-是false-空对象-和空数组-是true" class="sidebar-link">空字符串''是false 空对象{}和空数组[]是true</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/js笔记.html#filter" class="sidebar-link">filter</a></li><li class="sidebar-sub-header"><a href="/blog/js笔记.html#cookie、session、localstorage" class="sidebar-link">cookie、session、localStorage</a></li><li class="sidebar-sub-header"><a href="/blog/js笔记.html#数组的-every-方法" class="sidebar-link">数组的 every 方法</a></li><li class="sidebar-sub-header"><a href="/blog/js笔记.html#数组的-some-方法" class="sidebar-link">数组的 some 方法</a></li><li class="sidebar-sub-header"><a href="/blog/js笔记.html#数组的-sort-方法" class="sidebar-link">数组的 sort 方法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/js笔记.html#实现冒泡排序" class="sidebar-link">实现冒泡排序</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/js笔记.html#数组的-reduce-方法" class="sidebar-link">数组的 reduce 方法</a></li><li class="sidebar-sub-header"><a href="/blog/js笔记.html#对象转换为数组" class="sidebar-link">对象转换为数组</a></li><li class="sidebar-sub-header"><a href="/blog/js笔记.html#focus-和-focusin-的区别" class="sidebar-link">focus 和 focusin 的区别</a></li><li class="sidebar-sub-header"><a href="/blog/js笔记.html#js-计算当前时间点所在的周一和周日的时间戳" class="sidebar-link">js 计算当前时间点所在的周一和周日的时间戳</a></li><li class="sidebar-sub-header"><a href="/blog/js笔记.html#最简单的深拷贝" class="sidebar-link">最简单的深拷贝</a></li><li class="sidebar-sub-header"><a href="/blog/js笔记.html#json-stringify-不能把函数转换" class="sidebar-link">Json.stringify()不能把函数转换 ！！</a></li><li class="sidebar-sub-header"><a href="/blog/js笔记.html#js-执行顺序" class="sidebar-link">js 执行顺序</a></li><li class="sidebar-sub-header"><a href="/blog/js笔记.html#js-定义变量时使用-var-关键字与不使用的区别" class="sidebar-link">js 定义变量时使用 var 关键字与不使用的区别</a></li><li class="sidebar-sub-header"><a href="/blog/js笔记.html#element-attributes" class="sidebar-link">Element.attributes</a></li><li class="sidebar-sub-header"><a href="/blog/js笔记.html#scroll-滚动" class="sidebar-link">scroll 滚动</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/js笔记.html#scrollingelement" class="sidebar-link">scrollingElement</a></li></ul></li></ul></li><li><a href="/blog/note.html" class="sidebar-link">note</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><div class="adswrapper"><!----> <div style="display:none;"></div> <ins data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-1206812165499181" data-ad-slot="9205356858" data-ad-test="" data-ad-region="" class="adsbygoogle" style="display:block;"></ins> <!----> <div style="display:none;"> (adsbygoogle = window.adsbygoogle || []).push({}); </div></div> <p><img src="https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=852247412,628825777&amp;fm=26&amp;gp=0.jpg" alt=""></p> <h2 id="javascript"><a href="#javascript" class="header-anchor">#</a> JavaScript</h2> <h3 id="事件循环"><a href="#事件循环" class="header-anchor">#</a> 事件循环</h3> <ul><li>调用栈，后进先出</li> <li>队列，先进先出</li> <li><strong>macro-task(宏任务 Task)</strong> <ul><li>script(整体代码)</li> <li>setTimeout/setinterval</li> <li>setlmmediate</li> <li>I/O 操作</li> <li>UI rendering</li></ul></li> <li><strong>micro-task (微任务 Job)</strong> <ul><li>process.nextTick</li> <li>Promise.then</li> <li>MutationObserve</li> <li>async/await</li></ul></li></ul> <p>Javscript 的执行机制是: 首先事件循环从宏任务队列开始, 这个时候宏任务队列中, 只有一个script(整体代码)任务. 每一个任务的执行顺序, 都依靠<strong>函数调用栈</strong>来搞定, 而当遇到任务源时, 则会先分发任务到对应的队列中去, 先执行调用栈中的函数, 当调用栈中的执行上下文全部被弹出, <strong>只剩下全局执行上下文的时候, 就开始执行 Job 执行队列</strong>, Job 执行队列执行完成后就开始执行 Task 执行队列, 先进入的先执行, 后进入的后执行, 无论是 Task 还是 Job 都是通过函数调用栈来执行. Task 执行完一个, JavaScript 引擎会继续检查是否有 Job 需要执行. 就形成了 Task--Job--Task--Job 的循环, 这就行形成了事件循环 ( Event Loop).</p> <p>所以大概就是<code>调用栈</code>-&gt;<code>微任务</code>-&gt;<code>宏任务</code>-&gt;<code>微任务</code>-&gt;<code>宏任务</code>-&gt;<code>微、宏一直重复</code></p> <p>其中重点是在执行微任务的时候遇到<strong>微任务，会加入到微任务队列中并执行</strong></p> <h3 id="isnan"><a href="#isnan" class="header-anchor">#</a> isNaN()</h3> <blockquote><p><code>isNaN()</code> 函数用于检查其参数是否是非数字值。</p> <p>如果参数值为 <code>NaN</code> 或字符串、对象、undefined 等非数字值则返回 true, 否则返回 false。</p> <p><strong>如果参数是字符串，且内容是数字，会进行类型转换,使用的是<code>Number()</code>方法转换，转换为数字，所以返回 false</strong></p> <p>0 是<code>false</code>，1 是<code>true</code></p></blockquote> <ul><li><strong>1、数字形式的字符串</strong>。例如 &quot;123&quot;、&quot;-3.14&quot;，虽然是字符串型，但被 isNaN() 判为数，返回 false。（&quot;12,345,678&quot;，&quot;1.2.3&quot; 这些返回 true）</li> <li><strong>2、空值</strong>。null、空字符串&quot;&quot;、空数组[]，都可被 Number()合法的转为 0，于是被 isNaN 认为是数字，返回 false。（undefined、空对象{}、空函数等无法转数字，返回 true）</li> <li><strong>3、布尔值</strong>。Number(true)=1,Number(false)=0，所以 isNaN 对布尔值也返回 false。</li> <li><strong>4、长度为 1 的数组</strong>。结果取决于其中元素，即：isNaN([a])=isNaN(a)，可递归。例如 isNaN([[&quot;1.5&quot;]])=false。</li> <li><strong>5、数字特殊形式</strong>。例如&quot;0xabc&quot;、&quot;2.5e+7&quot;，这样的十六进制和科学计数法，即使是字符串也能转数字，所以也返回 false</li></ul> <h3 id="urlsearchparams"><a href="#urlsearchparams" class="header-anchor">#</a> URLSearchParams</h3> <p>假设浏览器的 url 参数是<code>&quot;?name=蜘蛛侠&amp;age=16&quot;</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">URLSearchParams</span><span class="token punctuation">(</span>location<span class="token punctuation">.</span>search<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 蜘蛛侠</span>
</code></pre></div><h3 id="clientwidth-、offsetwidth、scrollwidth"><a href="#clientwidth-、offsetwidth、scrollwidth" class="header-anchor">#</a> clientWidth 、offsetWidth、scrollWidth</h3> <blockquote><p>scrollWidth：对象的实际内容的宽度，不包边线宽度，会随对象中内容超过可视区后而变大。
clientWidth：对象内容的可视区的宽度，不包滚动条等边线，会随对象显示大小的变化而改变。
offsetWidth：对象整体的实际宽度，包滚动条等边线，会随对象显示大小的变化而改变。</p></blockquote> <ol><li>clientWidth = content + padding</li> <li>offsetWidth = content + border + padding+ 垂直滚动条宽度</li> <li>scrollWidth = content + padding</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">getViewport</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>compatMode <span class="token operator">==</span> <span class="token string">&quot;backCompat&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">width</span><span class="token operator">:</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientWidth<span class="token punctuation">,</span>
      <span class="token literal-property property">height</span><span class="token operator">:</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientHeight<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">width</span><span class="token operator">:</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientWidth<span class="token punctuation">,</span>
      <span class="token literal-property property">height</span><span class="token operator">:</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/*document.compatMode:判断当前浏览器采用的渲染方式
 * BackCompat：标准兼容模式关闭。
 *CSS1Compat：标准兼容模式开启。
 * 当document.compatMode等于BackCompat时，浏览器客户区宽度是document.body.clientWidth；
 * 当document.compatMode等于CSS1Compat时，浏览器客户区宽度是document.documentElement.clientWidth。
 */</span>
</code></pre></div><h3 id="js-窗口属性"><a href="#js-窗口属性" class="header-anchor">#</a> js 窗口属性</h3> <p>网页可见区域宽：document.body.clientWidth
网页可见区域高：document.body.clientHeight
网页可见区域宽：document.body.offsetWidth (包括边线的宽)
网页可见区域高：document.body.offsetHeight (包括边线的宽)
网页正文全文宽：document.body.scrollWidth
网页正文全文高：document.body.scrollHeight
网页被卷去的高：document.body.scrollTop
网页被卷去的左：document.body.scrollLeft
网页正文部分上：window.screenTop
网页正文部分左：window.screenLeft
屏幕分辨率的高：window.screen.height
屏幕分辨率的宽：window.screen.width
屏幕可用工作区高度：window.screen.availHeight
屏幕可用工作区宽度：window.screen.availWidth</p> <h3 id="offsetleft、offsetparent、offsettop"><a href="#offsetleft、offsetparent、offsettop" class="header-anchor">#</a> offsetLeft、offsetParent、offsetTop</h3> <p>offsetLeft 是一个只读属性，返回当前元素<em>左上角</em>相对于 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLElement/offsetParent" target="_blank" rel="noopener noreferrer"><code>HTMLElement.offsetParent</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 节点的左边界偏移的像素值。</p> <p><strong>HTMLElement.offsetParent</strong> 是一个只读属性，返回一个指向最近的（closest，指包含层级上的最近）包含该元素的<strong>定位</strong>元素。<strong>如果没有定位的元素</strong>，则 <code>offsetParent</code> 为<strong>最近的 <code>table</code>, <code>table cell</code> 或<code>body</code>元素</strong>。当元素的 <code>style.display</code> 设置为 &quot;none&quot; 时，<code>offsetParent</code> 返回 <code>null</code>。<code>offsetParent</code> 很有用，因为 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLElement/offsetTop" target="_blank" rel="noopener noreferrer"><code>offsetTop</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 和 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLElement/offsetLeft" target="_blank" rel="noopener noreferrer"><code>offsetLeft</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 都是相对于其内边距边界的。</p> <p><strong>HTMLElement.offsetTop</strong> 为只读属性，它返回当前元素相对于其 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLElement/offsetParent" target="_blank" rel="noopener noreferrer"><code>offsetParent</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 元素的顶部内边距的距离。</p> <h3 id="clientx"><a href="#clientx" class="header-anchor">#</a> clientX</h3> <p>一般用于鼠标点击时触发的鼠标相对于可视化区域的水平距离，Y 则是垂直距离</p> <h3 id="csstext"><a href="#csstext" class="header-anchor">#</a> cssText</h3> <p>cssText 属性设置或返回作为字符串的样式声明的内容，可批量设置行内样式</p> <div class="language-js extra-class"><pre class="language-js"><code>Object<span class="token punctuation">.</span>style<span class="token punctuation">.</span>cssText <span class="token operator">=</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="arguments-对象"><a href="#arguments-对象" class="header-anchor">#</a> arguments 对象</h3> <blockquote><p>不是数组，是类数组对象，只有 length 属性和索引元素，但可以通过<code>Array.from()</code>转换为数组</p> <p>函数的参数的集合</p> <p>可以用 <code>arguments.length</code> 检测函数的实参的个数</p> <p><code>函数名.length</code> 检测函数的形参个数</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Arguments(2) [&quot;1&quot;, 2, callee: ƒ, Symbol(Symbol.iterator): ƒ]</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Arguments]</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '1'</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
<span class="token punctuation">}</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="tofixed-2"><a href="#tofixed-2" class="header-anchor">#</a> toFixed(2)</h3> <blockquote><p>保留小数点后两位</p></blockquote> <h3 id="空字符串-是false-空对象-和空数组-是true"><a href="#空字符串-是false-空对象-和空数组-是true" class="header-anchor">#</a> 空字符串<code>''</code>是<code>false</code> 空对象<code>{}</code>和空数组<code>[]</code>是<code>true</code></h3> <h2 id="filter"><a href="#filter" class="header-anchor">#</a> filter</h2> <p>**filter 的 callback 函数需要返回布尔值 true 或 false. **</p> <p><strong>如果为 true 则表示通过啦！如果为 false 则失败。</strong></p> <h2 id="cookie、session、localstorage"><a href="#cookie、session、localstorage" class="header-anchor">#</a> cookie、session、localStorage</h2> <blockquote><p>区别</p></blockquote> <ol><li>cookie 数据始终在同源的 http 请求中携带（即使不需要）,数据不能超过 4k</li> <li>sessionStorage：仅在当前浏览器窗口关闭前有效，自然也就不可能持久保持；</li> <li>localStorage：始终有效，窗口或浏览器关闭也一直保存，因此用作持久数据；</li> <li>cookie 只在设置的 cookie 过期时间之前一直有效，即使窗口或浏览器关闭。</li> <li><strong>作用域不同</strong>，sessionStorage<strong>不在</strong>不同的<strong>浏览器窗口</strong>中共享，即使是同一个页面；localStorage 在所有同源窗口中都是共享的；cookie 也是在所有同源窗口中都是共享的。</li> <li>session 存储在服务端</li></ol> <h2 id="数组的-every-方法"><a href="#数组的-every-方法" class="header-anchor">#</a> 数组的 every 方法</h2> <p>every 需要所有的循环项都为 true 时才返回 true，否则返回 false。相当于全选状态</p> <h2 id="数组的-some-方法"><a href="#数组的-some-方法" class="header-anchor">#</a> 数组的 some 方法</h2> <p>some 只要有一个为 true 那么就会返回 true。</p> <h2 id="数组的-sort-方法"><a href="#数组的-sort-方法" class="header-anchor">#</a> 数组的 sort 方法</h2> <p><strong>浏览器根据回调函数的返回值来决定元素的排序：（重要）</strong></p> <ul><li>如果返回一个大于 0 的值，则元素会交换位置</li> <li>如果返回一个小于 0 的值，则元素位置不变</li> <li>如果返回一个 0，则认为两个元素相等，则不交换位置</li></ul> <h3 id="实现冒泡排序"><a href="#实现冒泡排序" class="header-anchor">#</a> 实现冒泡排序</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 冒泡排序</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">-</span> b<span class="token punctuation">;</span> <span class="token comment">// 如果a &gt; b 则交换位置</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1,2,5,6,7,99]</span>
</code></pre></div><h2 id="数组的-reduce-方法"><a href="#数组的-reduce-方法" class="header-anchor">#</a> 数组的 reduce 方法</h2> <blockquote><p>为数组中的每一个元素，依次执行回调函数。</p></blockquote> <p><strong>语法:</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token function">callback</span><span class="token punctuation">(</span>accumulator<span class="token punctuation">,</span> currentValue<span class="token punctuation">[</span><span class="token punctuation">,</span> index<span class="token punctuation">[</span><span class="token punctuation">,</span> array<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">,</span> initialValue<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>参数解释：</p> <ul><li>accumulator：上一次调用回调函数时的返回值，或者初始值</li> <li>currentValue：当前正在处理的数组元素</li> <li>index：当前正在处理的数组元素下标</li> <li>array：调用 reduce()方法的数组</li> <li>initialValue：可选的初始值（作为第一次调用回调函数时传给 accumulator 的值）[如果不传值的话，默认是数组第一个元素]</li></ul> <p>例子：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;m&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;y&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot; n&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;m&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;e&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot; is gauhar&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> person <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> value <span class="token operator">+</span> item<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// my name is gauhar</span>
</code></pre></div><h2 id="对象转换为数组"><a href="#对象转换为数组" class="header-anchor">#</a> 对象转换为数组</h2> <div class="language-js extra-class"><pre class="language-js"><code>Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>对象<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="focus-和-focusin-的区别"><a href="#focus-和-focusin-的区别" class="header-anchor">#</a> focus 和 focusin 的区别</h2> <blockquote><p>blur 和 focusout 同理</p></blockquote> <p>当元素即将接收 <code>focus</code> 事件时，<code>focusin</code>事件被触发。 这个事件和 <a href="https://developer.mozilla.org/en-US/docs/Web/Events/focus" target="_blank" rel="noopener noreferrer">focus<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 事件的主要区别在于后者不会冒泡。</p> <h2 id="js-计算当前时间点所在的周一和周日的时间戳"><a href="#js-计算当前时间点所在的周一和周日的时间戳" class="header-anchor">#</a> js 计算当前时间点所在的周一和周日的时间戳</h2> <blockquote><p>精髓在于利用<code>相差的天数</code>*一天的时间戳计算</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> today <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 获取今天的时间戳</span>
<span class="token keyword">let</span> todayWeek <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//获取今天是星期几</span>
<span class="token keyword">let</span> oneDayTime <span class="token operator">=</span> <span class="token number">24</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">;</span> <span class="token comment">//一天的时间戳</span>
<span class="token keyword">let</span> mon <span class="token operator">=</span> today <span class="token operator">-</span> <span class="token punctuation">(</span>todayWeek <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> oneDayTime<span class="token punctuation">;</span> <span class="token comment">// 今天的时间戳 - 相差天数的时间戳</span>
<span class="token keyword">let</span> sun <span class="token operator">=</span> today <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">7</span> <span class="token operator">-</span> todayWeek<span class="token punctuation">)</span> <span class="token operator">*</span> oneDayTime<span class="token punctuation">;</span> <span class="token comment">// 今天的时间戳 + 相差天数的时间戳</span>
<span class="token comment">// 获取年月日再转时间戳</span>
<span class="token keyword">let</span> monDate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>mon<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> monDateDay <span class="token operator">=</span> monDate<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> monDateMonth <span class="token operator">=</span> monDate<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> monDateYear <span class="token operator">=</span> monDate<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> start <span class="token operator">=</span> monDateYear <span class="token operator">+</span> <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span> monDateMonth <span class="token operator">+</span> <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span> monDateDay<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//周一的时间戳</span>

<span class="token keyword">let</span> sunDate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>sun<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> sunDateDay <span class="token operator">=</span> sunDate<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> sunDateMonth <span class="token operator">=</span> sunDate<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> sunDateYear <span class="token operator">=</span> sunDate<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> end <span class="token operator">=</span> sunDateYear <span class="token operator">+</span> <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span> sunDateMonth <span class="token operator">+</span> <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span> sunDateDay<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>end<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//周日的时间戳</span>
</code></pre></div><h2 id="最简单的深拷贝"><a href="#最简单的深拷贝" class="header-anchor">#</a> 最简单的深拷贝</h2> <blockquote><p>不能拷贝函数</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>变量<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="json-stringify-不能把函数转换"><a href="#json-stringify-不能把函数转换" class="header-anchor">#</a> Json.stringify()不能把<strong>函数</strong>转换 ！！</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token function-variable function">fun</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">111</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>fun<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//undefined</span>
</code></pre></div><h2 id="js-执行顺序"><a href="#js-执行顺序" class="header-anchor">#</a> js 执行顺序</h2> <blockquote><p><code>macrotask</code>宏任务队列</p> <p><code>microtask</code>微任务队列</p></blockquote> <ul><li>macrotask：主代码块、setTimeout、setInterval 等（可以看到，事件队列中的每一个事件都是一个 macrotask，现在称之为宏任务队列）</li> <li>microtask：Promise、process.nextTick 等</li> <li>在某一个<strong>宏任务队列执行完后</strong>，在重新渲染与开始下一个宏任务之前，就会将在它执行期间产生的所有<code>微任务</code>都执行完毕（在渲染前）。</li></ul> <p>promise 的 resolve 和 reject 是才是异步的回调。</p> <p>创建了一个 promise 实例对象的时候，钻进去回调函数中，执行输出<code>2</code>，for 循环，调用 resolve 函数(异步，微任务)，执行输出<code>3</code>，代码往下面走，执行输出<code>5</code>，在渲染宏任务之前，完成微任务输出<code>4</code>，最后输出<code>1</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    i <span class="token operator">==</span> <span class="token number">9999</span> <span class="token operator">&amp;&amp;</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 2 3 5 4 1</span>
</code></pre></div><h2 id="js-定义变量时使用-var-关键字与不使用的区别"><a href="#js-定义变量时使用-var-关键字与不使用的区别" class="header-anchor">#</a> js 定义变量时使用 var 关键字与不使用的区别</h2> <p>在全局作用域下，两者都是定义为全局变量。for 循环的使用 var 定义的变量也是全局的，在局部作用域下(function,class...)，</p> <p>如果不使用关键字定义，则变量时全局变量。使用关键字定义，就是局部变量。</p> <blockquote><p>特别注意的是：函数身上有一个 name 属性，是函数名</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 由于这个函数里面没有用关键字定义变量，所以当Foo函数被调用的时候，里面的变量变成了全局变量</span>
  <span class="token comment">// 这个函数是变量</span>
  <span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>say <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  name <span class="token operator">=</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">;</span>
  a <span class="token operator">=</span> <span class="token string">&quot;dd&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span> <span class="token comment">// 谁调用Foo函数，this就指向谁</span>
<span class="token punctuation">}</span>
<span class="token comment">// 函数也是对象，这里是给Foo函数对象定义了getName属性</span>
Foo<span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
bar<span class="token punctuation">.</span>rrr <span class="token operator">=</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 函数也是对象，这里是给bar函数定义了getName属性</span>
<span class="token comment">// 这里是给Foo函数对象的原型身上绑定了一个getName属性，它是一个函数</span>
<span class="token class-name">Foo</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">/**
     下面这两个函数都是全局作用域下的，都会变量提升
     区别在于，function关键字定义的，提升的优先级较高，而var在后
     所以var定义的函数会覆盖function定义的函数
*/</span>
<span class="token keyword">var</span> <span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>Foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//可以查看Foo函数对象，特别注意的是：函数身上有一个name属性，是函数名</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//undefined 因为这个时候Foo函数还没有被调用</span>
Foo<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// 调用了Foo函数对象的getName方法</span>
<span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment">// 全局作用域下的函数，var最后覆盖</span>

<span class="token function">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 首先这里调用Foo函数之前，代码已经跑完，</span>
<span class="token comment">// 所以Foo()执行之后，里面的getName方法覆盖了全局的var定义的getName方法</span>

<span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 上面的一句代码改变了全局作用域下的变量</span>
<span class="token keyword">new</span> <span class="token class-name">Foo<span class="token punctuation">.</span>getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">//调用了Foo函数对象的getName方法，执行了方法，然后实例化了对象。所以这里是Foo.getName对象</span>
<span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">// new关键字创建了一个实例对象，然后调用了原型身上的getName方法</span>

<span class="token keyword">new</span> <span class="token class-name">new</span> <span class="token function">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">//new关键字创建了一个实例对象，然后调用了console.log(tt.say);</span>
<span class="token comment">// 然后在通过new关键字，实例化了Foo原型身上的getName方法</span>
<span class="token comment">// 所以这里是Foo.getName对象</span>

window<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 和上面的getName()一样; 1 // 上面的一句代码改变了全局作用域下的变量</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Foo<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Foo 函数身上有一个name属性，是函数名</span>
console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 查看bar函数对象</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 上面的代码调用了Foo函数，里面的变量变成了全局变量</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="element-attributes"><a href="#element-attributes" class="header-anchor">#</a> Element.attributes</h2> <p>attributes 返回 dom 元素设置的属性，返回的是一个``NamedNodeMap`</p> <blockquote><p>NamedNodeMap，一个类数组对象</p></blockquote> <p><strong>NamedNodeMap</strong> 接口表示属性节点 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Attr" target="_blank" rel="noopener noreferrer"><code>Attr</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 对象的集合。尽管在 <code>NamedNodeMap</code> 里面的对象可以像数组一样通过索引来访问，但是它和 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/NodeList" target="_blank" rel="noopener noreferrer"><code>NodeList</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 不一样，对象的顺序没有指定。</p> <h2 id="scroll-滚动"><a href="#scroll-滚动" class="header-anchor">#</a> scroll 滚动</h2> <blockquote><p>behavior: smooth，一下方法都有的参数，设置平滑滑动的过渡</p></blockquote> <p>scrollTo()方法，设置滚动到某一位置，相对于浏览器。</p> <p>scrollBy()方法，相对于自己移动滚动条，<code>scrollBy(0,-100)</code>，表示相对于自己往上滚动 100</p> <p>scrollIntoView()方法，可以指定位置</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// start出现在视口顶部、center出现在视口中央、end出现在视口底部</span>
document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollIntoView</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">block</span><span class="token operator">:</span> <span class="token string">&quot;start&quot;</span> <span class="token operator">||</span> <span class="token string">&quot;center&quot;</span> <span class="token operator">||</span> <span class="token string">&quot;end&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>css 设置平滑过渡</strong></p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">html</span> <span class="token punctuation">{</span>
  <span class="token property">scroll-behavior</span><span class="token punctuation">:</span> smooth<span class="token punctuation">;</span> // 全局滚动具有平滑效果
<span class="token punctuation">}</span>

<span class="token selector">// 或者所有
*</span> <span class="token punctuation">{</span>
  <span class="token property">scroll-behavior</span><span class="token punctuation">:</span> smooth<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="scrollingelement"><a href="#scrollingelement" class="header-anchor">#</a> scrollingElement</h3> <p>该对象可以非常<code>兼容</code>地获取<code>scrollTop</code>、<code>scrollHeight</code>等属性，在<code>移动端</code>跟<code>PC端</code>都屡试不爽</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后修改时间:</span> <span class="time">11/29/2022, 5:57:18 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/flutter.html" class="prev">
        flutter
      </a></span> <span class="next"><a href="/blog/note.html">
        note
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.325d5dae.js" defer></script><script src="/blog/assets/js/3.e2beba07.js" defer></script><script src="/blog/assets/js/15.323dddf9.js" defer></script><script src="/blog/assets/js/7.3fa0df8d.js" defer></script>
  </body>
</html>
