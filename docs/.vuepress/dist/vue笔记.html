<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>常用语法 | gauhar&#39;s blog</title>
    <meta name="generator" content="VuePress 1.4.1">
    
    <meta name="description" content="just a blog">
    <link rel="preload" href="/assets/css/0.styles.77816087.css" as="style"><link rel="preload" href="/assets/js/app.23d8664b.js" as="script"><link rel="preload" href="/assets/js/2.712f2a65.js" as="script"><link rel="preload" href="/assets/js/13.9a86f16a.js" as="script"><link rel="prefetch" href="/assets/js/10.975de9f9.js"><link rel="prefetch" href="/assets/js/11.79fc5cb3.js"><link rel="prefetch" href="/assets/js/12.cf9c87d0.js"><link rel="prefetch" href="/assets/js/14.e51d0c8d.js"><link rel="prefetch" href="/assets/js/15.a7bb4d5e.js"><link rel="prefetch" href="/assets/js/16.7c12e515.js"><link rel="prefetch" href="/assets/js/17.08e9c0b5.js"><link rel="prefetch" href="/assets/js/18.31a371ee.js"><link rel="prefetch" href="/assets/js/19.9beab970.js"><link rel="prefetch" href="/assets/js/20.21e748c3.js"><link rel="prefetch" href="/assets/js/21.4a9d7533.js"><link rel="prefetch" href="/assets/js/3.6848e54e.js"><link rel="prefetch" href="/assets/js/4.47ba4611.js"><link rel="prefetch" href="/assets/js/5.a8fc33cb.js"><link rel="prefetch" href="/assets/js/6.85034e11.js"><link rel="prefetch" href="/assets/js/7.890599c6.js"><link rel="prefetch" href="/assets/js/8.bbdab6d5.js"><link rel="prefetch" href="/assets/js/9.a90b0eb6.js">
    <link rel="stylesheet" href="/assets/css/0.styles.77816087.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">gauhar's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://gauhar.gitee.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  hexo版博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://gitee.com/gauhar" target="_blank" rel="noopener noreferrer" class="nav-link external">
  码云
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/GauharChan" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://gauhar.gitee.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  hexo版博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://gitee.com/gauhar" target="_blank" rel="noopener noreferrer" class="nav-link external">
  码云
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/GauharChan" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/uniapp.html" class="sidebar-link">uniapp</a></li><li><a href="/es6笔记.html" class="sidebar-link">es6笔记</a></li><li><a href="/webpack.html" class="sidebar-link">webpack</a></li><li><a href="/vue笔记.html" class="active sidebar-link">vue笔记</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue笔记.html#常用语法" class="sidebar-link">常用语法</a></li><li class="sidebar-sub-header"><a href="/vue笔记.html#生命周期钩子" class="sidebar-link">生命周期钩子</a></li><li class="sidebar-sub-header"><a href="/vue笔记.html#class和style的绑定" class="sidebar-link">class和style的绑定</a></li><li class="sidebar-sub-header"><a href="/vue笔记.html#v-for" class="sidebar-link">v-for</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue笔记.html#数组更新检测" class="sidebar-link">数组更新检测</a></li></ul></li><li class="sidebar-sub-header"><a href="/vue笔记.html#计算属性computed" class="sidebar-link">计算属性computed</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue笔记.html#计算属性是基于它们的响应式依赖进行缓存的" class="sidebar-link">计算属性是基于它们的响应式依赖进行缓存的</a></li></ul></li><li class="sidebar-sub-header"><a href="/vue笔记.html#侦听器watch" class="sidebar-link">侦听器watch</a></li><li class="sidebar-sub-header"><a href="/vue笔记.html#事件处理" class="sidebar-link">事件处理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue笔记.html#修饰符" class="sidebar-link">修饰符</a></li><li class="sidebar-sub-header"><a href="/vue笔记.html#按键修饰符" class="sidebar-link">按键修饰符</a></li><li class="sidebar-sub-header"><a href="/vue笔记.html#鼠标修饰符" class="sidebar-link">鼠标修饰符</a></li><li class="sidebar-sub-header"><a href="/vue笔记.html#输入框修饰符" class="sidebar-link">输入框修饰符</a></li></ul></li><li class="sidebar-sub-header"><a href="/vue笔记.html#动态组件" class="sidebar-link">动态组件</a></li><li class="sidebar-sub-header"><a href="/vue笔记.html#全局注册公共基础组件" class="sidebar-link">全局注册公共基础组件</a></li><li class="sidebar-sub-header"><a href="/vue笔记.html#动态参数" class="sidebar-link">动态参数</a></li><li class="sidebar-sub-header"><a href="/vue笔记.html#vue-自定义指令" class="sidebar-link">vue 自定义指令</a></li><li class="sidebar-sub-header"><a href="/vue笔记.html#过渡的类名" class="sidebar-link">过渡的类名</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue笔记.html#从无到有，有到无" class="sidebar-link">从无到有，有到无</a></li><li class="sidebar-sub-header"><a href="/vue笔记.html#element-ui" class="sidebar-link">element-ui</a></li></ul></li><li class="sidebar-sub-header"><a href="/vue笔记.html#vuex" class="sidebar-link">vuex</a></li><li class="sidebar-sub-header"><a href="/vue笔记.html#打包的常见错误" class="sidebar-link">打包的常见错误</a></li><li class="sidebar-sub-header"><a href="/vue笔记.html#async" class="sidebar-link">async</a></li><li class="sidebar-sub-header"><a href="/vue笔记.html#router" class="sidebar-link">router</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue笔记.html#完整的路由导航解析流程-不包括其他生命周期-：" class="sidebar-link">完整的路由导航解析流程(不包括其他生命周期)：</a></li></ul></li><li class="sidebar-sub-header"><a href="/vue笔记.html#重写打印" class="sidebar-link">重写打印</a></li><li class="sidebar-sub-header"><a href="/vue笔记.html#处理边界情况" class="sidebar-link">处理边界情况</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue笔记.html#依赖注入" class="sidebar-link">依赖注入</a></li><li class="sidebar-sub-header"><a href="/vue笔记.html#事件侦听器" class="sidebar-link">事件侦听器</a></li></ul></li></ul></li><li><a href="/常用代码.html" class="sidebar-link">常用代码</a></li><li><a href="/工作常用代码.html" class="sidebar-link">工作常用代码</a></li><li><a href="/工作上遇到的坑.html" class="sidebar-link">工作上遇到的坑</a></li><li><a href="/那些坑.html" class="sidebar-link">那些坑</a></li><li><a href="/正则表达式.html" class="sidebar-link">正则表达式</a></li><li><a href="/flutter.html" class="sidebar-link">flutter</a></li><li><a href="/js笔记.html" class="sidebar-link">js笔记</a></li><li><a href="/note.html" class="sidebar-link">note</a></li><li><a href="/git托管代码.html" class="sidebar-link">git托管代码</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="常用语法"><a href="#常用语法" class="header-anchor">#</a> 常用语法</h2> <p>​	<strong>三元表达式</strong></p> <p>​	<strong>简单的运算</strong></p> <p><code>v-once</code> :  只能一次性的插值， 也就是说获取数据后，更新数据的时候不会响应</p> <p><code>v-html</code> :  将值以html的语法解析，<strong>（一般很少用到）     如果让用户插值，会很危险</strong></p> <p><code>v-bind</code> :  绑定html属性的值，如：<strong><code>v-bind:title=&quot;msg&quot;</code></strong> <code>msg 是data中的变量</code></p> <p><code>v-bind 的缩写是冒号</code> <strong>:</strong>      如：<code>v-bind:title=&quot;msg&quot;</code> === **<code>:title=&quot;msg&quot;</code> **</p> <p><code>v-on</code> :  绑定监听事件，如：<code>v-on:click=&quot;函数名&quot;</code>         里面的值可以是通过函数名去调用函数，或者是简单的运算语法</p> <p><code>v-on</code> :  缩写   <strong>@</strong>  如：<strong><code>@click=&quot;函数名&quot;</code></strong> <code>.native</code><strong>修饰符监听组件根元素原生事件</strong> 注意是组件的根元素</p> <p><code>v-cloak</code> :  很多情况下，加载页面时，会出现{{}}表达式闪烁的问题，因为那些变量的值是加载完后才覆盖的。</p> <div class="language-html extra-class"><pre class="language-html"><code> v-cloak指令保持在元素上直到关联实例结束编译后自动移除，v-cloak和 CSS 规则如 [v-cloak] { display: none } 一起用	时，这个指令可以隐藏未编译的 Mustache 标签直到实例准备完毕。
  通常用来防止{{}}表达式闪烁问题
  例如：
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">[v-cloak]</span> <span class="token punctuation">{</span> <span class="token property">display</span><span class="token punctuation">:</span> none <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><code>v-pre</code>: 不会解析标签中的插值</p> <div class="language-html extra-class"><pre class="language-html"><code>使用v-pre指令，这个p标签会直接渲染为{{msg}}，就算在data中定义了这个变量也不会解析    
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">v-pre</span><span class="token punctuation">&gt;</span></span>{{msg}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><code>v-for</code>: 循环遍历</p> <div class="language-html extra-class"><pre class="language-html"><code>使用v-for遍历数组，有两个参数：item是数组中的值,index是索引 :key作为遍历到数据的唯一标识
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>(item,index) of items<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation">=</span>index</span><span class="token punctuation">&gt;</span></span>
    {{ item }}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>

使用v-for遍历对象，有两个参数：value是对象中的值,key是对象的键名 :key作为遍历到数据的唯一标识
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>(value,key) in object<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>value.id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    {{ value }}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p>如果在<code>data</code>中写函数，则在函数中的<code>this</code>指向<code>window</code></p></blockquote> <h2 id="生命周期钩子"><a href="#生命周期钩子" class="header-anchor">#</a> 生命周期钩子</h2> <blockquote><p>！！钩子函数就是符合条件的时候自动调用</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>beforeCreate:初始化一个空的Vue实例对象，只有默认的事件和生命周期
created:vue'实例创建完成'时自动触发，这个时候模板还没有完成解析，所以不能实现数据和模板的关联，但是我们可以在这个钩子中去获取数据了 ===》 created的时候可以拿到data中的数据，这个时候的data中的变量还没有渲染到模板中，

beforeMount:编译好模板，但没有挂载到页面
mounted:当vm实例初始化完成，数据和模板的完成关联

beforeUpdate:Vue的data属性中的数据更新了，但模板的数据还没有更新
updated:模板的数据已经更新完成

beforedestroy: vue实例的销毁函数被调用
destroyed:vue实例已被销毁 或者是 组件被销毁
</code></pre></div><p><img src="https://s1.ax1x.com/2020/05/09/YQTka4.png" alt=""></p> <p><img src="https://s1.ax1x.com/2020/05/09/YQTAIJ.png" alt=""></p> <h2 id="class和style的绑定"><a href="#class和style的绑定" class="header-anchor">#</a> class和style的绑定</h2> <p>类名和内联他们的用法是一样的</p> <p>通过v-bind属性绑定：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>bgco<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:</span><span class="token style-attr language-css"><span class="token attr-name"><span class="token attr-name">style</span></span><span class="token punctuation">='</span><span class="token attr-value">nSmall</span><span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
    somethings
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>这个时候应该用计算属性返回<code>bgco</code> 的值，这是一个很强大的模式</p> <div class="language-js extra-class"><pre class="language-js"><code>data<span class="token operator">:</span><span class="token punctuation">{</span>
  isBgRed <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

computed<span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token function">bgco</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//这里可以返回一个对象，对象的属性就是类名，多个属性相当于多个类名</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token comment">//类名 : 一个布尔类型变量</span>
      <span class="token string">&quot;bg-red&quot;</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>isBgRed<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">nSmall</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        fontSize <span class="token operator">:</span> <span class="token string">'12px'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>绑定多个类名和内联样式可以使用数组语法</strong></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>[activeClass, errorClass]<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>组件也可以绑定class，这些 class 将被添加到该组件的根元素上面</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-component</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{ active: isActive }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-component</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>style的绑定</strong></p> <p><strong>对象语法</strong></p> <p>直接绑定到一个样式对象通常更好，这会让模板更清晰：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-bind:</span></span><span class="token style-attr language-css"><span class="token attr-name"><span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value">styleObject</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
data: {
  styleObject: {
    color: 'red',
    fontSize: '13px'
  }
}
</code></pre></div><p>同样的，对象语法常常结合返回对象的计算属性使用。</p> <p><strong>数组语法</strong></p> <p><code>v-bind:style</code> 的数组语法可以将多个样式对象应用到同一个元素上：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-bind:</span></span><span class="token style-attr language-css"><span class="token attr-name"><span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value">[baseStyles<span class="token punctuation">,</span> overridingStyles]</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="v-for"><a href="#v-for" class="header-anchor">#</a> v-for</h2> <blockquote><p>和<code>v-if</code>一样， 可以用<code>&lt;template&gt;</code>来循环渲染一段包含<strong>多个元素的内容</strong></p> <p>可以用 <code>of</code> 替代 <code>in</code> 作为分隔符，因为它更接近 JavaScript 迭代器的语法：</p> <p>最好给循环的每一项标识唯一的key值</p></blockquote> <ol><li>循环对象时，第一个参数是键值，第二个参数是键名,  第三个参数是索引</li> <li>循环数组时，第一个参数是值(value)，第二个参数是索引(index)</li></ol> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>(item,index) of arr<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{item}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="数组更新检测"><a href="#数组更新检测" class="header-anchor">#</a> 数组更新检测</h3> <blockquote><p>点击事件没有这些限制</p></blockquote> <p>在生命周期中，Vue <strong>不能</strong>检测以下两种情况下数组的变动：</p> <ol><li>当你利用索引直接设置一个数组项时，例如：<code>vm.items[indexOfItem] = newValue</code></li> <li>当你修改数组的长度时，例如：<code>vm.items.length = newLength</code></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;Home&quot;</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      event<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
      msg<span class="token operator">:</span> <span class="token string">&quot;点击了0次&quot;</span><span class="token punctuation">,</span>
      count<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      arr<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;gauhar&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;xiao&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;giao&quot;</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">;</span>  <span class="token comment">// 没有效果  本意是想将xiao改成123  但是效果不似预期</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p>可以使用<code>Vue.set(vm.items, indexOfItem, newValue)</code>  实例方法<code>this.$set</code>=== 全局Vue.set</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$<span class="token keyword">set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>arr<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>或者是使用变异方法<code>splice()</code>，修改数组长度也可以用<code>splice(newLength)</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p><strong>触发视图更新的变异方法包括</strong>：</p> <ul><li><code>push()</code></li> <li><code>pop()</code></li> <li><code>shift()</code></li> <li><code>unshift()</code></li> <li><code>splice()</code></li> <li><code>sort()</code></li> <li><code>reverse()</code></li></ul> <h2 id="计算属性computed"><a href="#计算属性computed" class="header-anchor">#</a> 计算属性computed</h2> <blockquote><p>不可以执行异步</p></blockquote> <h3 id="计算属性是基于它们的响应式依赖进行缓存的"><a href="#计算属性是基于它们的响应式依赖进行缓存的" class="header-anchor">#</a> <strong>计算属性是基于它们的响应式依赖进行缓存的</strong></h3> <div class="language- extra-class"><pre class="language-text"><code>如果返回一个变量，函数方法也可以做到，如果反复使用该变量，每次都要执行这个方法，需要一定的时间；但如果使用计算属性的话，只要这个变量的依赖项没有改变，都会立刻返回这个变量的值,这是他的缓存机制
</code></pre></div><p>如果想得到的变量是通过一定的处理才得到的，最好使用**<code>computed</code>** 函数返回。</p> <p>当你有一些数据需要随着其它数据变动而变动时，最好避免滥用watch，而是用<code>computed</code> 返回想要的变量</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Computed reversed message: &quot;{{ reversedMessage }}&quot;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code>
computed<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 计算属性的 getter</span>
    <span class="token function-variable function">reversedMessage</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// `this` 指向 vm 实例</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>message<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
        <span class="token comment">//这个message是data中的变量</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="侦听器watch"><a href="#侦听器watch" class="header-anchor">#</a> 侦听器watch</h2> <blockquote><p>watch可以执行异步</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>监听一个变量的变动，能够返回旧值和新值
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code>watch<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 如果 `question` 发生改变，这个函数就会运行</span>
    <span class="token function-variable function">question</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">newQuestion<span class="token punctuation">,</span> oldQuestion</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>answer <span class="token operator">=</span> <span class="token string">'Waiting for you to stop typing...'</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">debouncedGetAnswer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre></div><h2 id="事件处理"><a href="#事件处理" class="header-anchor">#</a> 事件处理</h2> <p>在内联绑定事件的时候，可以传入<code>$event</code>，访问原始的 DOM 事件</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@[bian]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>handle('jj',$event)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>双数单击，单数双击<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token function">handle</span><span class="token punctuation">(</span><span class="token parameter">str<span class="token punctuation">,</span> event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>msg <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">点击了</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">次</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">456</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="修饰符"><a href="#修饰符" class="header-anchor">#</a> 修饰符</h3> <blockquote><p>使用串联修饰符时，要注意顺序</p></blockquote> <p><code>.capture</code>:  捕获</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token comment">&lt;!-- 即内部元素触发的事件先在此处理，然后才交由内部元素进行处理 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-on:</span>click.capture</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>doThis<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><code>.self</code>：触发事件的元素必须是本身</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token comment">&lt;!-- 只当在 event.target 是当前元素自身时触发处理函数 --&gt;</span>
<span class="token comment">&lt;!-- 即事件不是从内部元素触发的 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-on:</span>click.self</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>doThat<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="按键修饰符"><a href="#按键修饰符" class="header-anchor">#</a> 按键修饰符</h3> <blockquote><p>直接使用按键名称更好,键名也可以通过$event.key获取</p> <p>使用kebab-case 的方式写键名：page-down</p></blockquote> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>inputVal<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@keyup.page-down</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>inputVal = 'pageDown'<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@keyup.delete</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>inputVal = 'delete'<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li><code>.ctrl</code></li> <li><code>.alt</code></li> <li><code>.shift</code></li></ul> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token comment">&lt;!-- Ctrl + Click --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">@click.ctrl</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>doSomething<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Do something<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><code>.exact</code>：必须是精确的指定修饰符才能执行</p> <div class="language-vue extra-class"><pre class="language-vue"><code>表示必须是单纯的鼠标点击，不能同时按下诸如ctlr的键
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">@click.exact</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>msg = 123<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>click<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="鼠标修饰符"><a href="#鼠标修饰符" class="header-anchor">#</a> 鼠标修饰符</h3> <ul><li><code>.left</code></li> <li><code>.right</code></li> <li><code>.middle</code></li></ul> <h3 id="输入框修饰符"><a href="#输入框修饰符" class="header-anchor">#</a> 输入框修饰符</h3> <ul><li><code>.lazy</code> <code>change</code> 事件进行同步</li> <li><code>.number</code>  将用户输入的值转换为数字类型，一般配合<code>type= &quot;number&quot;</code>使用</li> <li><code>.trim</code>  将用户输入的值去除首尾空格</li></ul> <h2 id="动态组件"><a href="#动态组件" class="header-anchor">#</a> 动态组件</h2> <blockquote><p>通过<code>currentTabComponent</code>的值来决定显示哪个组件</p> <p><code>currentTabComponent</code>的值可以是组件名字(name)，也可以是整个组件(整个选项对象)(引入的组件.vue文件)</p> <p><code>&lt;keep-alive&gt;</code> 将展示的组件缓存起来，而不是每次都销毁</p></blockquote> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>componentId<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="全局注册公共基础组件"><a href="#全局注册公共基础组件" class="header-anchor">#</a> 全局注册公共基础组件</h2> <blockquote><p>有时候一些类似<code>input</code>这样的基础组件会被频繁调用，或者有多个这样的组件，那么在<code>main.js</code>自动全局注册，让我们后续开发更加方便</p> <p>用到了<code>lodash</code>的转换命名格式，首字母大写和驼峰式，所以需要下载，<code>yarn add lodash</code></p> <p>公共的基础组件以<code>Base</code>开头命名</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> upperFirst <span class="token keyword">from</span> <span class="token string">'lodash/upperFirst'</span>
<span class="token keyword">import</span> camelCase <span class="token keyword">from</span> <span class="token string">'lodash/camelCase'</span>


<span class="token keyword">const</span> requireComponent <span class="token operator">=</span> require<span class="token punctuation">.</span><span class="token function">context</span><span class="token punctuation">(</span>
  <span class="token comment">// 其组件目录的相对路径</span>
  <span class="token string">'./components'</span><span class="token punctuation">,</span>
  <span class="token comment">// 是否查询其子目录</span>
  <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token comment">// 匹配基础组件文件名的正则表达式</span>
  <span class="token operator">/</span>Base<span class="token punctuation">[</span><span class="token constant">A</span><span class="token operator">-</span><span class="token constant">Z</span><span class="token punctuation">]</span>\w<span class="token operator">+</span>\<span class="token punctuation">.</span><span class="token punctuation">(</span>vue<span class="token operator">|</span>js<span class="token punctuation">)</span>$<span class="token operator">/</span>
<span class="token punctuation">)</span>

requireComponent<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">fileName</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 获取组件配置</span>
  <span class="token keyword">const</span> componentConfig <span class="token operator">=</span> <span class="token function">requireComponent</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span>

  <span class="token comment">// 获取组件的 PascalCase 命名</span>
  <span class="token keyword">const</span> componentName <span class="token operator">=</span> <span class="token function">upperFirst</span><span class="token punctuation">(</span>
    <span class="token function">camelCase</span><span class="token punctuation">(</span>
      <span class="token comment">// 获取和目录深度无关的文件名</span>
      fileName
        <span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\.\w+$/</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">)</span>

  <span class="token comment">// 全局注册组件</span>
  Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span>
    componentName<span class="token punctuation">,</span>
    <span class="token comment">// 如果这个组件选项是通过 `export default` 导出的，</span>
    <span class="token comment">// 那么就会优先使用 `.default`，</span>
    <span class="token comment">// 否则回退到使用模块的根。</span>
    componentConfig<span class="token punctuation">.</span>default <span class="token operator">||</span> componentConfig
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="动态参数"><a href="#动态参数" class="header-anchor">#</a> 动态参数</h2> <blockquote><p>可以动态绑定属性，事件</p> <p>attributeName在data中定义，如：<code>attributeName: href</code></p> <p>eventName: click</p> <p>参数不能有大写，大写会被转换为小写</p></blockquote> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>[attributeName]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> ... <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">@[eventName]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>handle<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>button<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>如果参数较为复杂，如：<code>‘foo’ + id</code>，不能使用空格或引号，应该使用计算属性替换</p> <h2 id="vue-自定义指令"><a href="#vue-自定义指令" class="header-anchor">#</a> vue 自定义指令</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// vue 自定义指令</span>
Vue<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">'focus'</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    <span class="token function">inserted</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span>binding</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// el是使用这个指令的dom元素</span>
        el<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="过渡的类名"><a href="#过渡的类名" class="header-anchor">#</a> <a href="https://cn.vuejs.org/v2/guide/transitions.html#%E8%BF%87%E6%B8%A1%E7%9A%84%E7%B1%BB%E5%90%8D" target="_blank" rel="noopener noreferrer">过渡的类名<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2> <blockquote><p>enter 开始的状态</p> <p>enter-actve 代表整个进入过渡过程，leave-active 代表整个离开过渡过程</p> <p>enter-to 结束的状态</p></blockquote> <p>在进入/离开的过渡中，会有 6 个 class 切换。</p> <ol><li><code>v-enter</code>：定义<code>进入过渡的开始状态</code>。在元素被插入之前生效，在元素被插入之后的下一帧移除。</li> <li><code>v-enter-active</code>：定义进入过渡生效时的状态。在整个进入过渡的阶段中应用，在元素被插入之前生效，在过渡/动画完成之后移除。这个类可以被用来定义进入过渡的过程时间，延迟和曲线函数。</li> <li><code>v-enter-to</code>: <strong>2.1.8版及以上</strong> 定义<code>进入过渡的结束状态</code>。在元素被插入之后下一帧生效 (与此同时 <code>v-enter</code> 被移除)，在过渡/动画完成之后移除。</li> <li><code>v-leave</code>: 定义<code>离开过渡的开始状态</code>。在离开过渡被触发时立刻生效，下一帧被移除。</li> <li><code>v-leave-active</code>：定义离开过渡生效时的状态。在整个离开过渡的阶段中应用，在离开过渡被触发时立刻生效，在过渡/动画完成之后移除。这个类可以被用来定义离开过渡的过程时间，延迟和曲线函数。</li> <li><code>v-leave-to</code>: <strong>2.1.8版及以上</strong> 定义<code>离开过渡的结束状态</code>。在离开过渡被触发之后下一帧生效 (与此同时 <code>v-leave</code> 被删除)，在过渡/动画完成之后移除。</li></ol> <h3 id="从无到有，有到无"><a href="#从无到有，有到无" class="header-anchor">#</a> 从无到有，有到无</h3> <p><img src="https://s1.ax1x.com/2020/05/09/YQTFZF.png" alt=""></p> <p>路由映射组件</p> <p>token不是浏览器默认行为，需要手动传值</p> <p>$emit 定义自定义事件</p> <p>$on   监听自定义事件</p> <p>父子组件的关系是使用关系，被使用的是子组件</p> <p>删除本地存储：<code>removeItem</code></p> <h3 id="element-ui"><a href="#element-ui" class="header-anchor">#</a> element-ui</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 这里的prop的值是绑定验证规则的，prop值必须和v-model绑定的属性值相同，否则验证规则会拿不到值 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>商品名称<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>goodsForm.name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>

错误例子:
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>商品名称<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prop</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> // 这里和v-model的name不相同，验证规则拿不到值
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>goodsForm.name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>


rules:{
	name:[
		{ required: true, message: '请输入商品名称', trigger: 'blur' }
	]
}
</code></pre></div><p>级联选择器</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>el<span class="token operator">-</span>cascader
             clearable
             v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;selectList&quot;</span>
             <span class="token operator">:</span>options<span class="token operator">=</span><span class="token string">&quot;cateList&quot;</span>
             <span class="token operator">:</span>props<span class="token operator">=</span><span class="token string">&quot;prop&quot;</span>   绑定下面的对象
             @change<span class="token operator">=</span><span class="token string">&quot;handleChange&quot;</span>
             <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>cascader<span class="token operator">&gt;</span>

prop<span class="token operator">:</span> <span class="token punctuation">{</span>
        checkStrictly<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        label<span class="token operator">:</span> <span class="token string">'cat_name'</span><span class="token punctuation">,</span>  属性值可以直接绑定到数据源cateList的属性名 <span class="token comment">// 这是展示给用户看的</span>
        value<span class="token operator">:</span> <span class="token string">'cat_id'</span><span class="token punctuation">,</span><span class="token comment">//这是真实的id值</span>
        children<span class="token operator">:</span> <span class="token string">'children'</span>
      <span class="token punctuation">}</span>
</code></pre></div><h2 id="vuex"><a href="#vuex" class="header-anchor">#</a> vuex</h2> <p>流程 ：通过dispatch调用actions的方法，在actions的方法中调用mutations的处理数据的方法，mutations是专门处理state的数据的函数。最终通过getters的方法获取数据（变量)。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//store.js</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    state<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token comment">// 存放变量，，一定要先定义变量，否则后面有可能出错</span>
        data<span class="token operator">:</span><span class="token string">''</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    mutations<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token comment">// 处理变量(设置赋值)</span>
        <span class="token function">setData</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span>value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            state<span class="token punctuation">.</span>data <span class="token operator">=</span> value
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    actions<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token comment">// 使用commit调用mutations中的方法</span>
        <span class="token function">callData</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> commit <span class="token punctuation">}</span><span class="token punctuation">,</span>value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token comment">// 第一个参数返回的是store对象，这里我们只用到commit，所以直接解构出来</span>
            <span class="token comment">//第一个参数是mutations的函数名</span>
            <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'setData'</span><span class="token punctuation">,</span>value<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    getters<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token comment">// 返回数据的方法</span>
        <span class="token function">getData</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> state<span class="token punctuation">.</span>data
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// home.vue  组件</span>
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 通过dispatch调用actions的方法，第一个参数是函数名</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'callData'</span><span class="token punctuation">,</span><span class="token string">'传递的值'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 获取变量的组件  about.vue</span>
<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>$store<span class="token punctuation">.</span>getters<span class="token punctuation">.</span>getData<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>    <span class="token comment">// 传递的值</span>
</code></pre></div><h2 id="打包的常见错误"><a href="#打包的常见错误" class="header-anchor">#</a> 打包的常见错误</h2> <p><strong>1.</strong> 文件路径错误</p> <p><img src="https://s1.ax1x.com/2020/05/09/YQTVi9.png" alt="打包错误2"></p> <p><strong>解决方法</strong>： 增加一个vue.config.js的配置文件</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// vue.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// other config</span>
  productionSourceMap<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  publicPath<span class="token operator">:</span> <span class="token string">'./'</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="async"><a href="#async" class="header-anchor">#</a> async</h2> <blockquote><p>解决回调地狱的最终方法</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    cosnt data <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">一个promise对象</span><span class="token punctuation">(</span>并且是resolve的状态<span class="token punctuation">)</span>
    <span class="token comment">// data接收的是resolve的参数</span>
<span class="token punctuation">}</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>async</code> 描述一个函数，函数里面使用<code>await</code> 接收一个promise对象返回的resolve回调函数中的参数</p> <p>图片路径引入方式</p> <blockquote><p>通过<code>require</code>引入相对路径</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../../assets/images/avatar.jpg'</span><span class="token punctuation">)</span>  
</code></pre></div><h2 id="router"><a href="#router" class="header-anchor">#</a> router</h2> <h3 id="完整的路由导航解析流程-不包括其他生命周期-："><a href="#完整的路由导航解析流程-不包括其他生命周期-：" class="header-anchor">#</a> 完整的路由导航解析流程(不包括其他生命周期)：</h3> <ol><li>触发进入其他路由。</li> <li>调用要离开路由的组件守卫<code>beforeRouteLeave</code></li> <li>调用全局前置守卫：<code>beforeEach</code></li> <li>在重用的组件里调用 <code>beforeRouteUpdate</code></li> <li>调用路由独享守卫 <code>beforeEnter</code>。</li> <li>解析异步路由组件。</li> <li>在将要进入的路由组件中调用<code>beforeRouteEnter</code></li> <li>调用全局解析守卫 <code>beforeResolve</code></li> <li>导航被确认。</li> <li>调用全局后置钩子的 <code>afterEach</code> 钩子。</li> <li>触发DOM更新(<code>mounted</code>)。</li> <li>执行<code>beforeRouteEnter</code> 守卫中传给 next 的回调函数</li></ol> <h2 id="重写打印"><a href="#重写打印" class="header-anchor">#</a> 重写打印</h2> <blockquote><p>vue的打印输出很不友好，默认不展开，为... 我们要一个一个点开</p> <p>如果打印的对象中有循环引用，json转换不了报错</p></blockquote> <p>在<code>main.js</code>加入以下代码，使用时：<code>this.$print('打印的东西')</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">$print</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> type</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    type <span class="token operator">=</span> type <span class="token operator">||</span> <span class="token string">&quot;log&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> log <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">(</span>log<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">(</span>log<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="处理边界情况"><a href="#处理边界情况" class="header-anchor">#</a> <a href="https://cn.vuejs.org/v2/guide/components-edge-cases.html" target="_blank" rel="noopener noreferrer">处理边界情况<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2> <h3 id="依赖注入"><a href="#依赖注入" class="header-anchor">#</a> 依赖注入</h3> <blockquote><p>父组件通过<code>provide</code>函数返回数据，其所有<strong>后代子组件</strong>都可以通过<code>Inject</code>接收数据使用，相当于大范围的<code>prop</code></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 父组件</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">provide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      name<span class="token operator">:</span> <span class="token string">'gauhar'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 后代子组件</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    inject<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// gauhar</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre></div><h3 id="事件侦听器"><a href="#事件侦听器" class="header-anchor">#</a> 事件侦听器</h3> <ul><li>通过 <code>$on(eventName, eventHandler)</code> 侦听一个事件</li> <li>通过 <code>$once(eventName, eventHandler)</code> 一次性侦听一个事件</li> <li>通过 <code>$off(eventName, eventHandler)</code> 停止侦听一个事件</li></ul> <blockquote><p><code>$emit</code>定义自定义事件，<code>$on</code>监听(触发)自定义事件，<code>$off</code>停止监听</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code>vm<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
vm<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token string">'hi'</span><span class="token punctuation">)</span>
<span class="token comment">// =&gt; &quot;hi&quot;</span>
</code></pre></div><p>使用<code>$once</code>监听钩子函数</p> <p><strong>使用 hook:为前缀，为 vue 生命周期钩子注册自定义事件。</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function-variable function">mounted</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> picker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Pikaday</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    field<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>input<span class="token punctuation">,</span>
    format<span class="token operator">:</span> <span class="token string">'YYYY-MM-DD'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$once</span><span class="token punctuation">(</span><span class="token string">'hook:beforeDestroy'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    picker<span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后修改时间:</span> <span class="time">5/9/2020, 4:25:56 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/webpack.html" class="prev">
        webpack
      </a></span> <span class="next"><a href="/常用代码.html">
        常用代码
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.23d8664b.js" defer></script><script src="/assets/js/2.712f2a65.js" defer></script><script src="/assets/js/13.9a86f16a.js" defer></script>
  </body>
</html>
