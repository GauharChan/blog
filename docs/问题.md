## ç»§æ‰¿

### [å‡ ç§æ–¹å¼](https://juejin.im/post/5bcb2e295188255c55472db0)

#### 1. åŸå‹é“¾ç»§æ‰¿

> å°†çˆ¶ç±»çš„å®ä¾‹èµ‹å€¼ç»™å­ç±»çš„åŸå‹
>
> æ•°æ®åœ¨åŸå‹
>
> **ç¼ºç‚¹**ï¼šå¤šä¸ªå®ä¾‹å¯¹å¼•ç”¨ç±»å‹çš„æ“ä½œä¼šè¢«ç¯¡æ”¹

```js
Son.prototype = new Father()
```

#### 2. å€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿

> é€šè¿‡`callæ–¹æ³•`æŠŠçˆ¶ç±»çš„æ„é€ å‡½æ•°é‡å®šä¹‰æŒ‡å‘å­ç±»çš„æ„é€ å‡½æ•°
>
> æ•°æ®åœ¨æ„é€ å‡½æ•°

**ç¼ºç‚¹**ï¼š

- åªèƒ½ç»§æ‰¿çˆ¶ç±»çš„**å®ä¾‹**å±æ€§å’Œæ–¹æ³•ï¼Œä¸èƒ½ç»§æ‰¿åŸå‹å±æ€§/æ–¹æ³•
- æ— æ³•å®ç°å¤ç”¨ï¼Œæ¯ä¸ªå­ç±»éƒ½æœ‰çˆ¶ç±»å®ä¾‹å‡½æ•°çš„å‰¯æœ¬ï¼Œå½±å“æ€§èƒ½

```js
function Son (){
	Father.call(this)
}
let son = new Son()
```

#### 3. ç»„åˆç»§æ‰¿

> åˆ©ç”¨åŸå‹é“¾ç»§æ‰¿çˆ¶ç±»åŸå‹çš„å±æ€§æ–¹æ³•ï¼›å€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿çš„æ–¹å¼ç»§æ‰¿å®ä¾‹ä¸Šçš„å±æ€§å’Œæ–¹æ³•ã€‚ç»“åˆèµ·æ¥å°±æ˜¯ç»„åˆç»§æ‰¿
>
> **ç¼ºç‚¹**ï¼šè°ƒç”¨äº†ä¸¤æ¬¡çˆ¶ç±»å‡½æ•°ï¼Œå…¶åŸå‹ä¸­ä¼šå­˜åœ¨ä¸¤ä»½ç›¸åŒçš„å±æ€§/æ–¹æ³•

```js
function Son (){
	Father.call(this)
}
Son.prototype = new Father()
let son = new Son()
```

#### 4. åŸå‹å¼ç»§æ‰¿

> åˆ©ç”¨ä¸€ä¸ªç©ºå¯¹è±¡ï¼ŒæŠŠçˆ¶ç±»çš„å±æ€§æ–¹æ³•èµ‹å€¼ç»™ç©ºå¯¹è±¡æ„é€ å‡½æ•°çš„åŸå‹ï¼Œè¿”å›å®ä¾‹ã€‚
>
> `Object.create()`æ–¹æ³•å°±æ˜¯è¿™æ ·çš„æ„æ€

ç¼ºç‚¹ï¼š

- åŸå‹é“¾ç»§æ‰¿å¤šä¸ªå®ä¾‹çš„å¼•ç”¨ç±»å‹å±æ€§æŒ‡å‘ç›¸åŒï¼Œå­˜åœ¨ç¯¡æ”¹çš„å¯èƒ½ã€‚
- æ— æ³•ä¼ é€’å‚æ•°

```js
// åŸå‹å¼
function Father(obj) {
    function f() {}
    f.prototype = obj
    return new f()
}
let person = {
    name: 'gauhar Person',
    arr: [1,2]
}

let s3 = Father(person)
console.dir(s3);



// åŸå‹å¼   Object.create
let person = {
    name: 'gauhar Person',
    arr: [1,2]
}
let son = Object.create(person)
son.name = 'gauhar Son'
son.arr.push(3)
console.dir(son);
```

#### 5. å¯„ç”Ÿå¼ç»§æ‰¿

> ä½¿ç”¨åŸå‹å¼ç»§æ‰¿å¾—åˆ°å®ä¾‹åï¼Œå¯ä»¥åœ¨å®ä¾‹çš„æ„é€ å‡½æ•°ä¸Šç»‘å®šå±æ€§å’Œæ–¹æ³•
>
> ç¼ºç‚¹ï¼šå’ŒåŸå‹å¼çš„ç¼ºç‚¹ä¸€æ ·

```js
function Father(obj) {
    function f() {}
    f.prototype = obj
    return new f()
}
let person = {
    name: 'gauhar åŸå‹',
    arr: [1,2]
}

function jisheng(parms) {
    let parasitism = Father(parms)
    parasitism.name = 'gauhar æ„é€ '
    parasitism.say = function () {
        console.log('say æ„é€ ');
    }
    return parasitism
}

let ji = jisheng(person)
console.dir(ji);
ji.say()
```

#### 6. å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿

> ä½¿ç”¨å¯„ç”Ÿå¼ç»§æ‰¿çˆ¶ç±»çš„åŸå‹ï¼Œä½¿ç”¨å€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿å®ä¾‹çš„å±æ€§æ–¹æ³•å’Œä¼ å‚

```js
function Father(obj) {
    function f() {}
    f.prototype = obj
    return new f()
}
let person = {
    name: 'gauhar åŸå‹',
    arr: [1, 2, 'åŸå‹']
}

function jisheng(parms) {
    let parasitism = Father(parms)
    parasitism.name = 'gauhar æ„é€ '
    parasitism.say = function () {
        console.log('say æ„é€ ');
    }
    return parasitism
}

function composition(son, father) {
    let obj = jisheng(father)  // å¯„ç”Ÿç»§æ‰¿
    son.prototype = obj  // å°†çˆ¶ç±»çš„å®ä¾‹å¯¹è±¡èµ‹å€¼ç»™å­ç±»çš„åŸå‹
    son.prototype.constructor = son
}

function father(name) {
    this.name = name
    this.age = 50
    this.colors = [1, 2, 3]
}
father.prototype.walk = function () {
    console.log('è¿™æ˜¯father, èµ°è·¯å¤ªæ…¢äº†');
}

function son(name) {
    father.call(this, name)
}

composition(son, father.prototype)
// æ–°å¢å­ç±»åŸå‹å±æ€§
son.prototype.sayAge = function () {
    alert(this.age);
}

let s5 = new son('çˆ¶äº²')
console.dir(s5);
s5.walk()
s5.colors.push('s5')

let s6 = new son('s6')
s6.colors.push('s6')
console.log(s5.colors); // [1, 2, 3, "s5"]
console.log(s6.colors); // [1, 2, 3, "s6"]
```

#### 7. æ··å…¥æ–¹å¼ç»§æ‰¿å¤šä¸ªå¯¹è±¡

> é€šè¿‡å€Ÿç”¨æ„é€ å‡½æ•°çš„æ–¹å¼ï¼Œå¯ä»¥ç»§æ‰¿å¤šä¸ªå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•
>
> `Object.create`ç»§æ‰¿ä¸€ä¸ªçˆ¶ç±»çš„åŸå‹å¯¹è±¡
>
> `Object.assign`æ··åˆç»§æ‰¿å…¶ä»–çˆ¶ç±»çš„åŸå‹å¯¹è±¡

```js
function Father1() {
    this.name = 'Father1'
}
Father1.prototype.say = function () {
    console.log(this.name);
}
function Father2() {
    this.age = 'Father2'
}
Father2.prototype.sayAge = function () {
    console.log(this.age);
}

function Myclass() {
    Father1.call(this)
    Father2.call(this)
}
Myclass.prototype = Object.create(Father1.prototype)  // æŠŠçˆ¶ç±»1çš„åŸå‹å¯¹è±¡èµ‹å€¼ç»™å­ç±»åŸå‹çš„__proto__å¯¹è±¡
// Myclass.prototype = Object.create(Father2.prototype)  // ä¼šæŠŠfather1çš„å±æ€§æ–¹æ³•è¦†ç›–
// æ··åˆå…¶ä»–
Object.assign(Myclass.prototype, Father2.prototype) // æŠŠçˆ¶ç±»2çš„åŸå‹æ‹·è´èµ‹å€¼ç»™å­ç±»çš„åŸå‹
Myclass.prototype.son = function () {

}
Myclass.prototype.constructor = Myclass
let my = new Myclass()
console.dir(my)
```

#### 8. ES6ç±»ç»§æ‰¿extends

> å…¶å†…éƒ¨å®ç°å’Œå¯„ç”Ÿå¼ç»„åˆç»§æ‰¿ä¸€æ ·ï¼Œæ˜¯è¯­æ³•ç³–

```js
// es6
class Father{
    constructor(like, hate){
        this.like = like
        this.hate = hate
    }
    get fruits(){
        return this.like
    }
    bad(){
        console.log('æœ€ä¸å–œæ¬¢åƒ'+this.hate);
    }
}
class Son extends Father{
    constructor(sonLike, sonHate){
        super(sonLike, sonHate)  // è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°
        this.name = 'sonName'
    }
}
let son = new Son('ğŸ', 'ğŸŒ')
console.log(son.fruits);
son.bad()
console.log(son.name);
```

## [ä»URè¾“å…¥åˆ°é¡µé¢å±•ç°åˆ°åº•å‘ç”Ÿä»€ä¹ˆï¼Ÿ](https://segmentfault.com/a/1190000017184701)

1. DNS è§£æ:å°†åŸŸåè§£ææˆ IP åœ°å€
2. TCP è¿æ¥ï¼šTCP ä¸‰æ¬¡æ¡æ‰‹
3. å‘é€ HTTP è¯·æ±‚
4. æœåŠ¡å™¨å¤„ç†è¯·æ±‚å¹¶è¿”å› HTTP æŠ¥æ–‡
5. æµè§ˆå™¨è§£ææ¸²æŸ“é¡µé¢
6. æ–­å¼€è¿æ¥ï¼šTCP å››æ¬¡æŒ¥æ‰‹

### ä¸‰æ¬¡æ¡æ‰‹

> ä¸‰æ¬¡æ¡æ‰‹ç”¨ä»¥åŒæ­¥å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„åºåˆ—å·å’Œç¡®è®¤å·ã€‚ä¸ºäº†é˜²æ­¢å·²å¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µçªç„¶åˆä¼ é€åˆ°äº†æœåŠ¡ç«¯ï¼Œå› è€Œäº§ç”Ÿé”™è¯¯
>

æ˜¯æŒ‡å»ºç«‹ä¸€ä¸ª TCP è¿æ¥æ—¶ï¼Œéœ€è¦å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨æ€»å…±å‘é€3ä¸ªæ•°æ®åŒ…ã€‚

**é€šä¿—ç‰ˆ**

 1. ç”±æµè§ˆå™¨å‘èµ·ï¼Œå‘Šè¯‰æœåŠ¡å™¨æˆ‘è¦å‘é€è¯·æ±‚äº†
 2. ç”±æœåŠ¡å™¨å‘èµ·ï¼Œå‘Šè¯‰æµè§ˆå™¨æˆ‘å‡†å¤‡æ¥æ”¶äº†
 3. ç”±æµè§ˆå™¨å‘èµ·ï¼Œå‘Šè¯‰æœåŠ¡å™¨æˆ‘é©¬ä¸Šå°±å‘äº†

**åŸç†ç‰ˆ**

 - ç¬¬ä¸€æ¬¡æ¡æ‰‹(SYN=1, seq=x):

   å®¢æˆ·ç«¯å‘é€ä¸€ä¸ª TCP çš„ SYN æ ‡å¿—ä½ç½®1çš„åŒ…ï¼ŒæŒ‡æ˜å®¢æˆ·ç«¯æ‰“ç®—è¿æ¥çš„æœåŠ¡å™¨çš„ç«¯å£ï¼Œä»¥åŠåˆå§‹åºå· X,ä¿å­˜åœ¨åŒ…å¤´çš„åºåˆ—å·(Sequence Number)å­—æ®µé‡Œã€‚

   å‘é€å®Œæ¯•åï¼Œå®¢æˆ·ç«¯è¿›å…¥ `SYN_SEND` çŠ¶æ€ã€‚

 - ç¬¬äºŒæ¬¡æ¡æ‰‹(SYN=1, ACK=1, seq=y, ACKnum=x+1):

   æœåŠ¡å™¨å‘å›ç¡®è®¤åŒ…(ACK)åº”ç­”ã€‚å³ SYN æ ‡å¿—ä½å’Œ ACK æ ‡å¿—ä½å‡ä¸º1ã€‚æœåŠ¡å™¨ç«¯é€‰æ‹©è‡ªå·± ISN åºåˆ—å·ï¼Œæ”¾åˆ° Seq åŸŸé‡Œï¼ŒåŒæ—¶å°†ç¡®è®¤åºå·(Acknowledgement Number)è®¾ç½®ä¸ºå®¢æˆ·çš„ ISN åŠ 1ï¼Œå³X+1ã€‚ å‘é€å®Œæ¯•åï¼ŒæœåŠ¡å™¨ç«¯è¿›å…¥ `SYN_RCVD` çŠ¶æ€ã€‚

 - ç¬¬ä¸‰æ¬¡æ¡æ‰‹(ACK=1ï¼ŒACKnum=y+1)

   å®¢æˆ·ç«¯å†æ¬¡å‘é€ç¡®è®¤åŒ…(ACK)ï¼ŒSYN æ ‡å¿—ä½ä¸º0ï¼ŒACK æ ‡å¿—ä½ä¸º1ï¼Œå¹¶ä¸”æŠŠæœåŠ¡å™¨å‘æ¥ ACK çš„åºå·å­—æ®µ+1ï¼Œæ”¾åœ¨ç¡®å®šå­—æ®µä¸­å‘é€ç»™å¯¹æ–¹ï¼Œå¹¶ä¸”åœ¨æ•°æ®æ®µæ”¾å†™ISNçš„+1

   å‘é€å®Œæ¯•åï¼Œå®¢æˆ·ç«¯è¿›å…¥ `ESTABLISHED` çŠ¶æ€ï¼Œå½“æœåŠ¡å™¨ç«¯æ¥æ”¶åˆ°è¿™ä¸ªåŒ…æ—¶ï¼Œä¹Ÿè¿›å…¥ `ESTABLISHED` çŠ¶æ€ï¼ŒTCP æ¡æ‰‹ç»“æŸã€‚

### å››æ¬¡æŒ¥æ‰‹

**é€šä¿—ç‰ˆ**

1. ç”±æµè§ˆå™¨å‘èµ·çš„ï¼Œå‘é€ç»™æœåŠ¡å™¨ï¼Œæˆ‘è¯·æ±‚æŠ¥æ–‡å‘é€å®Œäº†ï¼Œä½ å‡†å¤‡å…³é—­
2. ç”±æœåŠ¡å™¨å‘èµ·çš„ï¼Œ å‘Šè¯‰æµè§ˆå™¨ï¼Œæˆ‘è¯·æ±‚æŠ¥æ–‡æ¥å—å®Œäº†ï¼Œæˆ‘å‡†å¤‡å…³é—­äº†ï¼Œä½ ä¹Ÿå‡†å¤‡å§
3. ç”±æœåŠ¡å™¨å‘èµ·ï¼Œå‘Šè¯‰æµ è§ˆå™¨ï¼Œæˆ‘å“åº”æŠ¥æ–‡å‘é€å®Œäº†ï¼Œä½ å‡†å¤‡å…³é—­å§)
4. ç”±æµè§ˆå™¨å‘èµ·ï¼Œå‘Šè¯‰æœåŠ¡å™¨ï¼Œæˆ‘å“åº”æŠ¥æ–‡æ¥å—å®Œäº†ï¼Œæˆ‘å‡†å¤‡å…³é—­äº†ï¼Œä½ ä¹Ÿå‡†å¤‡å§

**åŸç†ç‰ˆ**

- ç¬¬ä¸€æ¬¡æŒ¥æ‰‹(FIN=1ï¼Œseq=x)

  å‡è®¾å®¢æˆ·ç«¯æƒ³è¦å…³é—­è¿æ¥ï¼Œå®¢æˆ·ç«¯å‘é€ä¸€ä¸ª FIN æ ‡å¿—ä½ç½®ä¸º1çš„åŒ…ï¼Œè¡¨ç¤ºè‡ªå·±å·²ç»æ²¡æœ‰æ•°æ®å¯ä»¥å‘é€äº†ï¼Œä½†æ˜¯ä»ç„¶å¯ä»¥æ¥å—æ•°æ®ã€‚

  å‘é€å®Œæ¯•åï¼Œå®¢æˆ·ç«¯è¿›å…¥ `FIN_WAIT_1` çŠ¶æ€ã€‚

- ç¬¬äºŒæ¬¡æŒ¥æ‰‹(ACK=1ï¼ŒACKnum=x+1)

  æœåŠ¡å™¨ç«¯ç¡®è®¤å®¢æˆ·ç«¯çš„ FIN åŒ…ï¼Œå‘é€ä¸€ä¸ªç¡®è®¤åŒ…ï¼Œè¡¨æ˜è‡ªå·±æ¥å—åˆ°äº†å®¢æˆ·ç«¯å…³é—­è¿æ¥çš„è¯·æ±‚ï¼Œä½†è¿˜æ²¡æœ‰å‡†å¤‡å¥½å…³é—­è¿æ¥ã€‚

  å‘é€å®Œæ¯•åï¼ŒæœåŠ¡å™¨ç«¯è¿›å…¥ `CLOSE_WAIT` çŠ¶æ€ï¼Œå®¢æˆ·ç«¯æ¥æ”¶åˆ°è¿™ä¸ªç¡®è®¤åŒ…ä¹‹åï¼Œè¿›å…¥ `FIN_WAIT_2` çŠ¶æ€ï¼Œç­‰å¾…æœåŠ¡å™¨ç«¯å…³é—­è¿æ¥ã€‚

- ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹(FIN=1ï¼Œseq=y)

  æœåŠ¡å™¨ç«¯å‡†å¤‡å¥½å…³é—­è¿æ¥æ—¶ï¼Œå‘å®¢æˆ·ç«¯å‘é€ç»“æŸè¿æ¥è¯·æ±‚ï¼ŒFIN ç½®ä¸º1ã€‚

  å‘é€å®Œæ¯•åï¼ŒæœåŠ¡å™¨ç«¯è¿›å…¥ `LAST_ACK` çŠ¶æ€ï¼Œç­‰å¾…æ¥è‡ªå®¢æˆ·ç«¯çš„æœ€åä¸€ä¸ªACKã€‚

- ç¬¬å››æ¬¡æŒ¥æ‰‹(ACK=1ï¼ŒACKnum=y+1)

  å®¢æˆ·ç«¯æ¥æ”¶åˆ°æ¥è‡ªæœåŠ¡å™¨ç«¯çš„å…³é—­è¯·æ±‚ï¼Œå‘é€ä¸€ä¸ªç¡®è®¤åŒ…ï¼Œå¹¶è¿›å…¥ `TIME_WAIT`çŠ¶æ€ï¼Œç­‰å¾…å¯èƒ½å‡ºç°çš„è¦æ±‚é‡ä¼ çš„ ACK åŒ…ã€‚

  æœåŠ¡å™¨ç«¯æ¥æ”¶åˆ°è¿™ä¸ªç¡®è®¤åŒ…ä¹‹åï¼Œå…³é—­è¿æ¥ï¼Œè¿›å…¥ `CLOSED` çŠ¶æ€ã€‚

  å®¢æˆ·ç«¯ç­‰å¾…äº†æŸä¸ªå›ºå®šæ—¶é—´ï¼ˆä¸¤ä¸ªæœ€å¤§æ®µç”Ÿå‘½å‘¨æœŸï¼Œ2MSLï¼Œ2 Maximum Segment Lifetimeï¼‰ä¹‹åï¼Œæ²¡æœ‰æ”¶åˆ°æœåŠ¡å™¨ç«¯çš„ ACK ï¼Œè®¤ä¸ºæœåŠ¡å™¨ç«¯å·²ç»æ­£å¸¸å…³é—­è¿æ¥ï¼Œäºæ˜¯è‡ªå·±ä¹Ÿå…³é—­è¿æ¥ï¼Œè¿›å…¥ `CLOSED` çŠ¶æ€


## ajax

### å·¥ä½œè¿‡ç¨‹

> åˆ›å»º`XMLHttpRequest`å¯¹è±¡ï¼Œè°ƒç”¨`open`æ–¹æ³•è¿æ¥æœåŠ¡å™¨ï¼Œå‘é€è¯·æ±‚ï¼Œè·å–æœåŠ¡ç«¯å“åº”æ•°æ®

### åŸç”Ÿç”¨æ³•

```js
var xmlHttp = new XMLHttpRequest();
xmlHttp.open('GET','demo.php','true');
xmlHttp.send()
xmlHttp.onreadystatechange = function(){
    if(xmlHttp.readyState === 4 & xmlHttp.status === 200){
        console.log(xmlHttp.responseText)
    }
}
```

### [jqç”¨æ³•](https://www.runoob.com/jquery/ajax-ajax.html)

```js
$.ajax({
    type: "method", // get, post
    url: "url",
    data: {
        op: ''
    },
    success: function (response) {

    },
    error(err){
        
    }
});
```

### axios

```js
axios({
  method: 'post',
  url: '/user/name',
  data: {
    firstName: 'Gauhar',
    lastName: 'Chan'
  }
});

// get
axios.get('demo/url', {
    params: {
        id: 1,
        name: 'Gauhar',
    },
   timeout: 1000,
  ...//å…¶ä»–ç›¸å…³é…ç½®
})

// post
axios.post('/user', {
    firstName: 'Gauhar',
    lastName: 'Chan'
}).then(function (response) {
    console.log(response);
}).catch(function (error) {
    console.log(error);
});
```



## [è·¨åŸŸ](https://juejin.im/post/5c23993de51d457b8c1f4ee1)

> **å½“åè®®ã€å­åŸŸåã€ä¸»åŸŸåã€ç«¯å£å·ä¸­ä»»æ„ä¸€ä¸ªä¸ç›¸åŒæ—¶ï¼Œéƒ½ç®—ä½œä¸åŒåŸŸ**ã€‚ä¸åŒåŸŸä¹‹é—´ç›¸äº’è¯·æ±‚èµ„æºï¼Œå°±æ˜¯**è·¨åŸŸ**

æœ‰ä¸‰ä¸ªæ ‡ç­¾æ˜¯å…è®¸è·¨åŸŸåŠ è½½èµ„æºï¼š

- `<img src=XXX>`
- `<link href=XXX>`
- `<script src=XXX>`

### è§£å†³æ–¹æ¡ˆ

#### 1. JSONP

> **JSONPè¯·æ±‚ä¸€å®šéœ€è¦å¯¹æ–¹çš„æœåŠ¡å™¨åšæ”¯æŒæ‰å¯ä»¥**ï¼Œç®€å•å…¼å®¹æ€§å¥½ï¼Œä½†ä»…ä»…æ”¯æŒ`get`è¯·æ±‚ï¼Œä¸å®‰å…¨

1. åˆ›å»ºä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œ å½“æœåŠ¡å™¨è¿”å›æ—¶è‡ªåŠ¨æ‰§è¡Œï¼ˆ`callback(data)`ï¼‰ï¼Œé€šè¿‡å‡½æ•°çš„å‚æ•°å¯ä»¥è·å–åˆ°æœåŠ¡å‘å›æ¥çš„æ•°æ®
2. æ‹¼æ¥å¥½è¦ä¼ çš„å‚æ•°ï¼Œå› ä¸ºæ˜¯getè¯·æ±‚(params1=value&params2=value2)ã€‚å¹¶ä¸”çº¦æŸå¥½å‡½æ•°çš„`key`æ˜¯`callback`ï¼Œå…¶ä»–å‚æ•°åˆ™æ˜¯æäº¤è¯·æ±‚çš„å‚æ•°
3. åˆ›å»ºä¸€ä¸ª`script`æ ‡ç­¾ï¼ŒæŠŠ`url`å’Œå‚æ•°æ‹¼æ¥èµ·æ¥ï¼Œèµ‹å€¼ç»™`script`æ ‡ç­¾çš„`src`ï¼Œæ’å…¥åˆ°`body`ä¸­

```js
// index.html
function jsonp({ url, params, callback }) {
    return new Promise((resolve, reject) => {
        let script = document.createElement('script')
        window[callback] = function (data) { // ç¼–å†™ä¸€ä¸ªå›è°ƒå‡½æ•°
            resolve(data) // è¿”å›æœåŠ¡å™¨çš„æ•°æ®
            document.body.removeChild(script) // åˆ é™¤scriptæ ‡ç­¾
        }
        // æ‹¼æ¥
        params = { ...params, callback } // name=gauhar&callback=sayHi
        let arrs = []
        for (let key in params) {
            arrs.push(`${key}=${params[key]}`)
        }
        script.src = `${url}?${arrs.join('&')}`
        document.body.appendChild(script)
    })
}
jsonp({
    url: 'http://localhost:6688/say',
    params: { name: 'gauhar' },
    callback: 'sayHi'
}).then(data => {
    console.log(data) // hello gauhar
})
```

**jqå†™æ³•**

```js
$.ajax({
    url: "http://localhost:6688/say",
    dataType: "jsonp",  // ä½¿ç”¨jsonpè·¨åŸŸ
    data:{
        name: 'gauhar'
    },
    success: function (data) {
        console.log(data);
    }
});
```

`node.js`ä»£ç 

```js
let express = require('express')
let app = express()
app.get('/say', function(req, res) {
  let { name, callback } = req.query
  console.log(name) // gauhar
  console.log(callback) // sayHi
  res.end(`${callback}('hello ${name}')`)
})
app.listen(6688)
```



#### 2.ä»£ç†

> vue-cliåˆ›å»ºé¡¹ç›®ï¼Œåœ¨æ ¹ç›®å½•ä¸‹æ–°å»º`vue.config.js`æ–‡ä»¶

```js
module.exports = {
  devServer: {
    proxy: {
      "/api": {
        target: "https://gauhar.top", // å®é™…çš„è¯·æ±‚åœ°å€
        changeOrigin: true,  // å¼€å¯è·¨åŸŸ
        pathRewrite: {'^/api' : ''}, // æ¥é‡å†™åœ°å€ï¼Œå°†å‰ç¼€ '/api' è½¬ä¸º '/'
      },
      "/j": {
        target: "https://movie.douban.com",
        changeOrigin: true
      }
    }
  }
};
```

#### 3.cors

> åç«¯è®¾ç½®å“åº”å¤´:`Access-Control-Allow-Origin `

##### ç®€å•è¯·æ±‚

åªè¦åŒæ—¶æ»¡è¶³ä»¥ä¸‹ä¸¤å¤§æ¡ä»¶ï¼Œå°±å±äºç®€å•è¯·æ±‚

æ¡ä»¶1ï¼šä½¿ç”¨ä¸‹åˆ—æ–¹æ³•ä¹‹ä¸€ï¼š

- GET
- HEAD
- POST

æ¡ä»¶2ï¼šContent-Type çš„å€¼ä»…é™äºä¸‹åˆ—ä¸‰è€…ä¹‹ä¸€ï¼š

- text/plain
- multipart/form-data
- application/x-www-form-urlencoded

##### å¤æ‚è¯·æ±‚

å…¶ä»–æ¡ä»¶çš„æƒ…å†µå°±æ˜¯å¤æ‚è¯·æ±‚ï¼Œå¤æ‚è¯·æ±‚é¦–å…ˆä¼šå‘èµ·ä¸€ä¸ª`option`è¯·æ±‚ï¼Œåˆ¤æ–­æœåŠ¡ç«¯æ˜¯å¦å…è®¸è·¨åŸŸ

```js
// serve.js
const express = require('express')
const app = express()
app.use(function(req, res, next) {
    // è®¾ç½®å“ªä¸ªæºå¯ä»¥è®¿é—®æˆ‘
    res.setHeader('Access-Control-Allow-Origin', '*')
    // å…è®¸æºå¸¦å“ªä¸ªå¤´è®¿é—®æˆ‘
    res.setHeader('Access-Control-Allow-Headers', '*')
    // // å…è®¸å“ªä¸ªæ–¹æ³•è®¿é—®æˆ‘
    res.setHeader('Access-Control-Allow-Methods', '*')

    if (req.method === 'OPTIONS') {
        // OPTIONSè¯·æ±‚ä¸åšä»»ä½•å¤„ç†
        console.log(111);
    }
    next()
})
app.put('/put', function(req, res) {
  console.log(222);
  res.end('gauhar')
})
app.listen(4000, () => {
  console.log('running');
})
```

```js
// index.html
$.ajax({
    type: 'PUT',
    url: "http://localhost:4000/put",
    success: function (data) {
        console.log(data);
    }
});
```

è¿è¡Œä»£ç å¯ä»¥çœ‹åˆ°ï¼Œæ‰“å°111ï¼Œ222ã€‚è¿™è¯´æ˜å¤æ‚è¯·æ±‚çš„æ—¶å€™ï¼Œå…ˆå‘äº†ä¸€ä¸ª`option`è¯·æ±‚ï¼Œç¡®å®šå…è®¸è·¨åŸŸåå†å‘èµ·`put`è¯·æ±‚ï¼Œè¿”å›æ•°æ®

## promise

> Promise æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæ¯”ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆâ€”â€”å›è°ƒå‡½æ•°å’Œäº‹ä»¶â€”â€”æ›´åˆç†å’Œæ›´å¼ºå¤§
>
> æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œé‡Œé¢ä¿å­˜ç€æŸä¸ªæœªæ¥æ‰ä¼šç»“æŸçš„äº‹ä»¶ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼‰çš„ç»“æœã€‚

## vue

### mvvm

> M - Model ä»£è¡¨æ•°æ®æ¨¡å‹ï¼Œä¹Ÿå¯ä»¥åœ¨ Model ä¸­å®šä¹‰æ•°æ®ä¿®æ”¹å’Œæ“ä½œçš„ä¸šåŠ¡é€»è¾‘
>
> V - Viewï¼Œä»£è¡¨ UI ç»„ä»¶ï¼Œå®ƒè´Ÿè´£å°†æ•°æ®æ¨¡å‹è½¬åŒ–ä¸º UI å±•ç°å‡ºæ¥ 
>
> VM - ViewModelï¼Œç›‘å¬æ¨¡å‹æ•°æ®çš„æ”¹å˜å’Œæ§åˆ¶è§†å›¾è¡Œä¸ºã€å¤„ç†ç”¨æˆ·äº¤äº’ï¼Œç®€å•ç†è§£å°±æ˜¯ä¸€ä¸ªåŒæ­¥ View å’Œ Model çš„å¯¹è±¡ï¼Œè¿æ¥ Model å’Œ View

### [åŒå‘ç»‘å®šåŸç†](https://juejin.im/entry/5923973da22b9d005893805a)

### [vue-router](https://router.vuejs.org/zh/guide/essentials/dynamic-matching.html#%E5%93%8D%E5%BA%94%E8%B7%AF%E7%94%B1%E5%8F%82%E6%95%B0%E7%9A%84%E5%8F%98%E5%8C%96)

#### ä¼ å‚å’Œå–å‚

> pathå’Œqueryä¸€èµ·ä½¿ç”¨

```js
ä¼ å‚: 
this.$router.push({
        path:'/xxx',
        query:{
          id:id
        }
      })
  
æ¥æ”¶å‚æ•°:
this.$route.query.id
```

> nameå’Œparamsä¸€èµ·ä½¿ç”¨

```js
ä¼ å‚: 
this.$router.push({
        name:'xxx',
        params:{
          id:id
        }
      })
  
æ¥æ”¶å‚æ•°:
this.$route.params.id
```

- 1.`$router`ä¸ºå®ä¾‹ï¼Œæƒ³è¦å¯¼èˆªåˆ°ä¸åŒï¼Œåˆ™ä½¿ç”¨router.pushæ–¹æ³•
- 2.`$route`ä¸ºå½“å‰routerè·³è½¬å¯¹è±¡ï¼Œé‡Œé¢å¯ä»¥è·å–nameã€pathã€queryã€paramsç­‰

**å¦å¤–ï¼ŒäºŒè€…è¿˜æœ‰ç‚¹åŒºåˆ«ï¼Œç›´ç™½çš„æ¥è¯´queryç›¸å½“äºgetè¯·æ±‚ï¼Œé¡µé¢è·³è½¬çš„æ—¶å€™ï¼Œå¯ä»¥åœ¨åœ°å€æ çœ‹åˆ°è¯·æ±‚å‚æ•°ï¼Œè€Œparamsç›¸å½“äºpostè¯·æ±‚ï¼Œå‚æ•°ä¸ä¼šå†åœ°å€æ ä¸­æ˜¾ç¤º**



## JQuery

### æ–‡ä»¶ä¸Šä¼ 

```js
$('button').click(function(){
    var files = $('#avatar').prop('files');  // è·å–æ–‡ä»¶å¯¹è±¡
	// ä½¿ç”¨Fromdataå¯¹è±¡ä¸Šä¼ æ–‡ä»¶
    var data = new FormData();
    data.append('avatar', files[0]); // avataræ˜¯é”®å

    $.ajax({
        url: '/api/upload',
        type: 'POST',
        data: data,
        cache: false,  // å…¼å®¹IE8
        contentType: false, 
        processData: false,
    });
});
```

 `contentType: false`ï¼šjqé»˜è®¤è®¾ç½®`content-Type``ä¸ºapplication/x-www-form-urlencoded`,è¿™ä¸ªæ˜¯è¡¨å•æäº¤æ ¼å¼ã€‚æ–‡ä»¶ä¸Šä¼ çš„æ ¼å¼åº”è¯¥ä¸º`multipart/form-data`ï¼Œ`FormData`å·²ç»æ˜¯è¿™ä¸ªæ ¼å¼ï¼Œå› æ­¤ä¸ä½¿ç”¨`jq`çš„è½¬æ¢

`processData: false`ï¼šjQueryä¼šå°†`data`å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²æ¥å‘é€HTTPè¯·æ±‚ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¼šç”¨ `application/x-www-form-urlencoded`ç¼–ç æ¥è¿›è¡Œè½¬æ¢ã€‚ æˆ‘ä»¬è®¾ç½®`contentType: false`åè¯¥è½¬æ¢ä¼šå¤±è´¥ï¼Œå› æ­¤è®¾ç½®`processData: false`æ¥ç¦æ­¢è¯¥è½¬æ¢è¿‡ç¨‹

















